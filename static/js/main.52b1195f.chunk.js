(this["webpackJsonppokedex-search"]=this["webpackJsonppokedex-search"]||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(6),o=s.n(c),l=s(4),r=s(3),i=s(2),u=s(0),b=function(e){var t,s,n,c,o,l,r,b,p,j,d=Object(a.useState)(!1),h=Object(i.a)(d,2),m=h[0],O=h[1],_=Object(a.useState)(void 0),v=Object(i.a)(_,2),f=v[0],x=v[1],k=Object(a.useState)(void 0),g=Object(i.a)(k,2),N=g[0],y=g[1];Object(a.useEffect)((function(){fetch(e.pokemon.species.url).then((function(e){!1===e.ok&&O(!0),e.json().then((function(e){for(var t=0;t<e.names.length;t++)if("en"===e.names[t].language.name){x(e.names[t].name);break}y(e.color.name)}))}))}),[]);var S=e.pokemon.stats[0].base_stat/255,F=e.pokemon.stats[1].base_stat/255,C=e.pokemon.stats[2].base_stat/255,T=e.pokemon.stats[3].base_stat/255,w=e.pokemon.stats[4].base_stat/255,A=e.pokemon.stats[5].base_stat/255;return Object(u.jsx)("a",{className:"result__link",href:"https://bulbapedia.bulbagarden.net/wiki/"+(null!==f&&void 0!==f?f:"MissingNo")+"_(Pok\xe9mon)",target:"_blank",style:{border:null!==(t="4px solid "+N)&&void 0!==t?t:"black"},onClick:function(e){void 0===f&&e.preventDefault()},children:m?Object(u.jsx)("span",{className:"result__error",children:"Oops! N\xe3o foi poss\xedvel obter os dados desse pok\xe9mon :("}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"result__title",style:{borderBottom:null!==(s="2px solid "+N)&&void 0!==s?s:"black"},children:[Object(u.jsx)("span",{className:"result__dex",style:{borderRight:null!==(n="2px solid "+N)&&void 0!==n?n:"black"},children:"#"+(null!==(c=e.pokemon.dexNumber)&&void 0!==c?c:"???")}),Object(u.jsx)("span",{className:"result__name",children:null!==f&&void 0!==f?f:"Carregando..."})]}),Object(u.jsx)("img",{className:"result__avatar",src:null!==(o=e.pokemon.sprites.front_default)&&void 0!==o?o:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/0.png",alt:null!==(l=e.pokemon.name)&&void 0!==l?l:"Carregando...",width:"100",height:"100"}),Object(u.jsxs)("div",{className:"result__typeFlex",style:{borderTop:null!==(r="2px solid "+N)&&void 0!==r?r:"black",borderBottom:null!==(b="2px solid "+N)&&void 0!==b?b:"black"},children:[Object(u.jsx)("span",{className:"result__type",children:e.pokemon.types.length>0&&null!==(p=e.pokemon.types[0].type.name)&&void 0!==p?p:"---"}),Object(u.jsx)("span",{className:"result__type",children:e.pokemon.types.length>1&&null!==(j=e.pokemon.types[1].type.name)&&void 0!==j?j:"---"})]}),Object(u.jsxs)("div",{className:"result__statFlex",children:[Object(u.jsx)("div",{className:"result__hex",style:{width:"100px",height:"100px",position:"relative",backgroundColor:null!==N&&void 0!==N?N:"black",opacity:"0.75",clipPath:"polygon(50% 0, 95% 25%, 95% 75%, 50% 100%, 5% 75%, 5% 25%)"},children:Object(u.jsx)("div",{className:"result__stats",style:{width:"96px",height:"96px",position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white"===N?"rgba(0, 0, 0, 0.75)":"rgba(255, 255, 255, 0.75)",clipPath:"polygon(50% "+(50-50*S)+"%, "+(50+45*F)+"% "+(50-25*F)+"%, "+(50+45*C)+"% "+(50+25*C)+"%, 50% "+(50+50*A)+"%, "+(50-45*w)+"% "+(50+25*w)+"%, "+(50-45*T)+"% "+(50-25*w)+"%)"}})}),Object(u.jsxs)("ul",{className:"result__statList",children:[Object(u.jsxs)("li",{className:"result__label",children:["HP ",Object(u.jsx)("span",{className:"result__score",children:e.pokemon.stats[0].base_stat})]}),Object(u.jsxs)("li",{className:"result__label",children:["ATK ",Object(u.jsx)("span",{className:"result__score",children:e.pokemon.stats[1].base_stat})]}),Object(u.jsxs)("li",{className:"result__label",children:["DEF ",Object(u.jsx)("span",{className:"result__score",children:e.pokemon.stats[2].base_stat})]}),Object(u.jsxs)("li",{className:"result__label",children:["S.ATK ",Object(u.jsx)("span",{className:"result__score",children:e.pokemon.stats[3].base_stat})]}),Object(u.jsxs)("li",{className:"result__label",children:["S.DEF ",Object(u.jsx)("span",{className:"result__score",children:e.pokemon.stats[4].base_stat})]}),Object(u.jsxs)("li",{className:"result__label",children:["SPD ",Object(u.jsx)("span",{className:"result__score",children:e.pokemon.stats[5].base_stat})]})]})]})]})})};var p=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(!1),o=Object(i.a)(c,2),p=o[0],j=o[1],d=Object(a.useState)(void 0),h=Object(i.a)(d,2),m=h[0],O=h[1],_=Object(a.useState)(void 0),v=Object(i.a)(_,2),f=v[0],x=v[1],k=Object(a.useState)({}),g=Object(i.a)(k,2),N=g[0],y=g[1],S=Object(a.useState)(""),F=Object(i.a)(S,2),C=F[0],T=F[1],w=Object(a.useState)(""),A=Object(i.a)(w,2),P=A[0],D=A[1],B=Object(a.useState)(""),E=Object(i.a)(B,2),q=E[0],I=E[1],z=Object(a.useState)(!1),L=Object(i.a)(z,2),Q=L[0],J=L[1],K=Object(a.useState)(!1),M=Object(i.a)(K,2),H=M[0],R=M[1],Z=Object(a.useState)(!1),G=Object(i.a)(Z,2),U=G[0],V=G[1],W=Object(a.useState)(void 0),X=Object(i.a)(W,2),Y=X[0],$=X[1],ee=Object(a.useState)(void 0),te=Object(i.a)(ee,2),se=te[0],ae=te[1],ne=Object(a.useState)(!1),ce=Object(i.a)(ne,2),oe=ce[0],le=ce[1],re=Object(a.useState)(!1),ie=Object(i.a)(re,2),ue=ie[0],be=ie[1],pe=Object(a.useState)([]),je=Object(i.a)(pe,2),de=je[0],he=je[1],me=Object(a.useState)([]),Oe=Object(i.a)(me,2),_e=Oe[0],ve=Oe[1],fe=Object(a.useState)(!1),xe=Object(i.a)(fe,2),ke=xe[0],ge=xe[1];Object(a.useEffect)((function(){fetch("https://pokeapi.co/api/v2/type/").then((function(e){!1===e.ok&&j(!0),e.json().then((function(e){(void 0===e.results||e.results.length<=0)&&j(!0),x(e.results)}))})),fetch("https://pokeapi.co/api/v2/pokemon/?limit=9999").then((function(e){!1===e.ok&&j(!0),e.json().then((function(e){(void 0===e.results||e.results.length<=0)&&j(!0),console.log(e.results),O(e.results)}))})),fetch("https://pokeapi.co/api/v2/pokemon-species/pidgeot").then((function(e){return e.json()})).then((function(e){return console.log(e)}))}),[]),Object(a.useEffect)((function(){if(!1!==(H&&oe&&ue)&&!0!==ke){var e=[];if(void 0===Y)e=void 0===se?m:Q?se.map((function(e){return 2===e.slot?e.pokemon:null})).filter((function(e){return null!==e})):se.map((function(e){return e.pokemon}));else if(e=Q?Y.map((function(e){return 1===e.slot?e.pokemon:null})).filter((function(e){return null!==e})):Y.map((function(e){return e.pokemon})),void 0!==se){for(var t=[],s=0;s<e.length;s++)for(var a=0;a<se.length;a++)if(e[s].name===se[a].pokemon.name){t.push(se[a].pokemon);break}e=t}var c=C.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g," ").split(" ").filter((function(e){return e.length>0}));if(e=e.filter((function(e){for(var t=0;t<c.length;t++)if(-1===e.name.indexOf(c[t]))return!1;return!0})),he([]),e.length<=0)ve([]),n(!0),R(!1),$(void 0),le(!1),ae(void 0),be(!1),ge(!1);else{for(var o=0;o<e.length;o++)fetch(e[o].url).then((function(t){!1===t.ok&&V(!0),t.json().then((function(t){var s=de;s.push(Object(r.a)(Object(r.a)({},t),{},{dexNumber:t.species.url.replace("https://pokeapi.co/api/v2/pokemon-species/","").replace("/","")})),s.length>=e.length?Ne(s):he(s)}))}));ge(!0)}}}),[H,oe,ue,ke,m,Q,C,de]);var Ne=function(e){var t=e;t.sort((function(e,t){return parseInt(e.dexNumber)-parseInt(t.dexNumber)})),"none"===q&&(t=t.filter((function(e){return e.types.length<2}))),console.log(t),ve(t),he([]),n(!0),R(!1),$(void 0),le(!1),ae(void 0),be(!1),ge(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("main",{className:"search",children:[Object(u.jsx)("h1",{className:"search__title",children:"Temos que Buscar!"}),Object(u.jsx)("span",{className:"search__hint",children:"Digite o nome (ou parte do nome) de um pok\xe9mon e/ou selecione seus tipos"}),Object(u.jsxs)("div",{className:"search__box",children:[Object(u.jsx)("p",{className:"search__error"+(p?" search__error_visible":""),children:"N\xe3o foi poss\xedvel coletar as informa\xe7\xf5es necess\xe1rias, tente novamente mais tarde :("}),Object(u.jsxs)("form",{className:"search__form"+(p?" search__form_hidden":""),onSubmit:function(e){return function(e){e.preventDefault(),H||(R(!0),V(!1),""===P?($(void 0),le(!0)):N[P]?($(N[P]),le(!0)):fetch("https://pokeapi.co/api/v2/type/"+P).then((function(e){!1===e.ok&&V(!0),e.json().then((function(e){(void 0===e.pokemon||e.pokemon.length<=0)&&V(!0),y(Object(r.a)(Object(r.a)({},N),{},Object(l.a)({},P,e.pokemon))),$(e.pokemon),le(!0)}))})),""===q||q===P||"none"===q?(ae(void 0),be(!0)):N[q]?(ae(N[q]),be(!0)):fetch("https://pokeapi.co/api/v2/type/"+q).then((function(e){!1===e.ok&&V(!0),e.json().then((function(e){(void 0===e.pokemon||e.pokemon.length<=0)&&V(!0),y(Object(r.a)(Object(r.a)({},N),{},Object(l.a)({},q,e.pokemon))),ae(e.pokemon),be(!0)}))})))}(e)},children:[Object(u.jsx)("label",{className:"search__labelAria",htmlFor:"searchName",children:"Nome"}),Object(u.jsx)("input",{className:"search__input",id:"searchName",type:"text",placeholder:"Nome do pok\xe9mon",maxLength:32,value:C,onChange:function(e){return T(e.target.value)},disabled:H}),Object(u.jsxs)("div",{className:"search__typeFlex",children:[Object(u.jsx)("label",{className:"search__labelAria",htmlFor:"searchType1",children:"Tipo Prim\xe1rio"}),Object(u.jsx)("select",{className:"search__drop",id:"searchType1",value:P,disabled:void 0===f||H,onChange:function(e){return D(e.target.value)},children:void 0===f?Object(u.jsx)("option",{value:"",children:"Carregando..."}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("option",{value:"",children:"Qualquer Tipo"}),f.map((function(e){return Object(u.jsx)("option",{value:e.name,disabled:e.name===q,children:e.name},e.url)}))]})}),Object(u.jsx)("label",{className:"search__labelAria",htmlFor:"searchType2",children:"Tipo Secund\xe1rio"}),Object(u.jsx)("select",{className:"search__drop",id:"searchType2",value:q,disabled:void 0===f||H,onChange:function(e){return I(e.target.value)},children:void 0===f?Object(u.jsx)("option",{value:"",children:"Carregando..."}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("option",{value:"",children:"Qualquer Tipo"}),Object(u.jsx)("option",{value:"none",children:"Nenhum"}),f.map((function(e){return Object(u.jsx)("option",{value:e.name,disabled:e.name===P,children:e.name},e.url)}))]})})]}),Object(u.jsxs)("div",{className:"search__checkFlex",children:[Object(u.jsx)("input",{className:"search__check",id:"searchCheck",type:"checkbox",checked:Q,onChange:function(e){return J(e.target.checked)},disabled:H}),Object(u.jsx)("label",{className:"search__label",htmlFor:"searchCheck",children:"Apenas tipos nessa ordem exata"})]}),Object(u.jsx)("button",{disabled:void 0===m||H,className:"search__submit"+(H?" search__submit_progress":""),type:"submit",children:H?"Buscando":"Buscar"})]})]})]}),Object(u.jsx)("div",{className:"list"+(s?" list_visible":""),children:U?Object(u.jsx)("p",{className:"list__error",children:"N\xe3o foi poss\xedvel realizar a pesquisa. Tente novamente mais tarde :("}):_e.length<=0?Object(u.jsx)("p",{className:"list__text",children:"Nenhum resultado encontrado. Quem sabe usando uma configura\xe7\xe3o diferente?"}):Object(u.jsx)("ul",{className:"list__results",children:_e.map((function(e){return Object(u.jsx)("li",{className:"result",children:Object(u.jsx)(b,{pokemon:e})},e.name)}))})})]})};s(12);o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.52b1195f.chunk.js.map